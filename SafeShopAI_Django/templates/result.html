{% extends "base.html" %}
{% block content %}
<div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white px-4 py-10">

  <!-- Title -->
  <h2 class="text-5xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 drop-shadow-xl animate-pulse">
    Analysis Result
  </h2>

  <!-- Video + Overlay -->
  <div class="relative w-full max-w-5xl rounded-2xl overflow-hidden shadow-2xl border-4 border-transparent hover:border-indigo-500 transition-all duration-700">
    
    <!-- Video -->
  <video class="w-full rounded-lg" controls playsinline>
    <source src="{{ video_url }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>


    <!-- Overlay -->
    {% if pred_label == 'Theft' %}
      <div class="absolute inset-0 flex flex-col items-center justify-center bg-red-900/40 animate-fade-in">
        <!-- Siren Effect -->
        <div class="relative flex items-center justify-center mb-6">
          <div class="absolute w-32 h-32 bg-red-500 rounded-full animate-ping opacity-50"></div>
          <div class="absolute w-24 h-24 bg-red-600 rounded-full animate-pulse opacity-75"></div>
          <div class="relative z-10 w-16 h-16 bg-red-700 rounded-full shadow-2xl"></div>
        </div>
        <h3 class="text-5xl font-extrabold text-red-400 drop-shadow-2xl animate-bounce">
          üö® Theft Detected!
        </h3>
      </div>
    {% else %}
      <div class="absolute inset-0 flex flex-col items-center justify-center bg-green-900/30 animate-fade-in">
        <!-- Shield Glow -->
        <div class="relative flex items-center justify-center mb-6">
          <div class="absolute w-40 h-40 bg-green-400/40 rounded-full blur-3xl animate-pulse"></div>
          <svg xmlns="http://www.w3.org/2000/svg" class="relative z-10 h-28 w-28 text-green-300 drop-shadow-2xl animate-bounce" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L3 6v6c0 5.25 3.67 10.74 9 12 5.33-1.26 9-6.75 9-12V6l-9-4z"/>
          </svg>
        </div>
        <h3 class="text-5xl font-extrabold text-green-300 drop-shadow-2xl animate-pulse">
          ‚úÖ No Theft
        </h3>
      </div>
    {% endif %}
  </div>

  <!-- Stats Panel -->
  <div class="mt-10 text-center">
    <div class="inline-block px-10 py-6 rounded-2xl shadow-2xl bg-gradient-to-r from-gray-800 to-gray-900 border border-gray-700 hover:scale-105 transition-transform duration-500">
      <p class="text-2xl">Prediction: 
        <span class="{% if pred_label == 'Theft' %}text-red-400{% else %}text-green-400{% endif %} font-extrabold tracking-wide">
          {{ pred_label }}
        </span>
      </p>
      <p class="mt-2 text-lg text-gray-300">Confidence: <strong>{{ pred_prob }}</strong></p>
      <p class="mt-1 text-lg text-gray-400">Inference time: <strong>{{ infer_sec }} sec</strong></p>
    </div>

    <a href="/" class="inline-block mt-8 px-8 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-indigo-600 hover:to-purple-600 text-white font-bold text-lg shadow-lg hover:scale-105 transition-all duration-500">
      üîÅ Analyze another video
    </a>
  </div>

</div>

<style>
/* Smooth fade-in */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9);}
  to { opacity: 1; transform: scale(1);}
}
.animate-fade-in {
  animation: fadeIn 1.2s ease-in-out forwards;
}
</style>
{% endblock %}
